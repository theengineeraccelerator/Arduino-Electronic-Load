Arduino Based Electronic Load Version 2

Introduction
This project is a commercially cheaper and simpler electronic load for testing power sources
by varying the load via Arduino Setup

Conventions

CAPITAL TEXT: Text to be replaced with product specific names

Product Characteristics
	- Must interface with serial monitor of Arduino Uno 
    - Must incorporate a heat sink and a fan
	- Must be portable
    - Weight: 3 pounds
    - Height (X): 4in
    - Length (Y): 6 in
    - Width (Z): 6 in
    - Target Cost: Cheap. Equal to or less than $50.00
    - Product Life Time Target: 5 years
    - Operating Temperature: commercial temperature range

Devices
Arduino Based Electronic Load 
  Feature List

       

	Source Under Test (SUT)
		Characteristics
			- Power Source
			- Provides the current and voltage for investigation
			- Has a voltage across it that can be measured and provided to the user
			- Output voltage:0.0V to 48.0V 
			- output current: Up to 5A
			- Has a nob to varry the voltage output
	
	Overload Protection
		Characteristics  
			- Protects load from overloading with exessive voltage
			- Disconnects the SUT from the load 
			- Uses a digital switching system
			- Protects components found on board from overloading
			
	Current Sink Driver
		Characteristics
			- Provides necessary power to drive the current sink  
			- Regulates the power driven to the current sink
			- Controls how much current passes through current sink 
			- Uses differential principle of non-inverting OP-AMP  
	
	Current Sink
		Characteristics
			- Sinks current from the SOURCE UNDER TEST(source)
			- Range: 0-5A
			- Adjusts how much current passes through as set in the ARDUINO 
			- Acts as a variable resistor of the electronic load system 
	
	Current sensor
		Characteristics
			- Senses current through CURRENT SINK stage    
			- Max Current: 5A
			- Accuracy: 1%
	
	Voltage sensor
		Characteristics
			- Senses voltage from SOURCE UNDER TEST(source)
			- 0.0-48.0 V 
			- Accuracy: 1%
	
	Temperature sensor
		Characteristics
			- Senses temperature from heat sink
			- Works at commercial temperature range (32F - 176F)
			- Accuracy: 1%
	
	Heat Sink
		Characteristics
			- Sinks the heat from current sink stage
			- Normally controlls the heat to keep it at less than 150.0F
			- Small enough in size to be physically close to CURRENT SINK
			
	Fan Driver
		Characteristics
			- Provides necessary power to drive the Fan
			- Switched on/off by digital signal
			- Comprises of switch to tunr on/off FAN
			
	Fan	
		Characteristics
			- Cools down heat sink and circuit board
					
		
	3 LED Indicators
		Characteristics
			- Red,Yellow and Green LEDs
            - Green LED indicates normal operation of the loading as specified in the Arduino
            - Yellow LED indicates a range in which the source is closer to over loading (A range specified in the Arduino)
			- RED displaying over loading and hence source has been interrupted
	Computer
		Characteristics
			- Uses Arduino serial monitor for display
			- Displays current to be drawn, set by user
			- Displays load current 
			- Logs load current versus time
			- User interface for controlling using serial monitor 
            - Power ARDUINO using USB cable within the operating voltage range
	Arduino
        Characterstics
            - Uses USB interface for power and signal communication
            - Controlls the normal operation of the testing device 
			- Incorporates both ADC and DAC in the processor system
            - Must be with a processing speed of atleast 16MHz 
			- Incorporates both analog and digital Input/Output terminals
			- Communicates with external devices via I2C
            - Handls at minimum a voltage of 5.0V from and to various devices
Behavior Definition
	Product States
	   SYSTEM OFF
	   SOURCE SETUP
	   SETUP AND WELCOME
	   SAFETY CHECK
	   IDLE
	   MEASURE and CHECK
	   ERROR
	   DISPLAY
	   TEMPERATURE MEASURE
	   FAN

	Detailed Behavior
	  Starting State: SYSTEM OFF
        Event: Power connection
            - User conect hardware set up and turn power 
            - User turns on computer system
            - Change state to SOURCE SETUP	
			
	  Initial State: SOURCE SETUP
		Event: Connection
		    - Connect device under test to electronic load
		Event: Entry	  
		    - User enters key on keyboard 
			- Change state to SETUP AND WELCOME
			- Turn temperture sensor on
			- Chnage state to TEMPERATURE MEASURE
			
	  Initial State: SETUP AND WELCOME
		Event: ENTRY
			- Give user command instructions to type in serial monitor
			- Clear user interface display
			- Set all values to zero 
			- Open current dial
			- Open current trace coming from source using switch found in overload protection block
			- Change State to WELCOME
		Event: Safety Check Command
			- Change state to SAFETY CHECK 
		
	
	  Initial State: SAFETY CHECK
		Event: Entry
			- Send state message to computer
			- Check sensorVoltage 
		Event: Measure Command  
			- Read voltage from voltage sensor
			- Construct Data Packet
			- Send to Computer 
		    - End Measurement  
		    - Set state to IDLE
	
	  Initial State: IDLE
		Event: Entry
			- Stop measurement
			- Send State message to computer
			- Give user command instructions to type in serial monitor
		Event: measure command 
			- Change state to MEASURE AND CHECK
		Event: Entry
		    - Give user command instructions to type in serial monitor
			- User increases current setpoint 
			- User decrease current setpoint
		Event: Command Set Mode
			- Change measurementMode
		Event: Safety Check Command
			- Change state to SAFETY CHECK
		
	  Initial State: MEASURE AND CHECK
		Event: Entry
			- Check measurementMode
			- Start Timer
		Event: Current is over the operating range (over 10A)
		    - Turn on RED LED in 3 LED Indicator
			- Turn off YELLOW LED in 3 LED Indicator
            - Turn off GREEN LEDs in 3 LED Indicator  
            - Activate the overload protection
		    - Change state to ERROR state           
        Event: Current is within the operating range
            - Change state to DISPLAY State
			
      Initial State: ERROR
		Event: Current is Over limit (>10A)
			- Open current trace coming from source
			- Display message "Current Overload!" to user
			- Inform user to decrease current
		Event: Error re-configuration command 	
			- Go to IDLE state
			
	  Initial State: DISPLAY
        Event: Entry
            - Start Timer		
	    Event: Current is critically close to over loading (>=9.0A and < 10A) )
		    - Construct Data Packet
			- Send to Computer
			- Display value on serial monitor 
		    - Turn on YELLOW LED in 3 LED Indicator
			- Turn off RED LED in 3 LED Indicator
            - Turn off GREEN LEDs in 3 LED Indicator
		Event: Current is in normal operating range (<9.0A)
            - Construct Data Packet
			- Send to Computer
			- Display value on serial monitor		
	        - Turn on GREEN LED in 3 LED Indicator
			- Turn off RED LED in 3 LED Indicator
            - Turn off YELLOW LEDs in 3 LED Indicator
		Event: Sense Voltage 
		    - Continoulsy measure voltage
			- Go to SAFETY CHECK state
		Event: Stop voltage sensing
		    - End voltage measurement  
			- Set state to IDLE	
			
			
			
       Initial State: TEMPERATURE MEASURE             
		Event: Temperature change above limit  
			- Construct Data Packet
			- Send to Computer
			- Go to FAN state
		Event: Temperature is below limit 		
			- Construct Data Packet
			- Send to Computer
			- Remain in TEMPERATURE MEASURE STATE
	    
			
	  
		 
	  Initial State: FAN    
		Event: Temperature is above limit
			- Start fanTimer
            - Turn on the Fan using fan driver
		Event: Temperature is below the limit
			- Turn off Fan 


Data Structure
	Variables
		- Timer
		- fanTimer
		- currentSensor   
		- currentValue
		- voltageSensor
		- voltageValue
		- temperatureSensor
		- measurementMode
	Data Packet 
		- Voltage
		- Current
		- Temperature
		- Interupt
Interface List
	Arduino <--> Computer
	Characteristics
		- Serial Monitor based
	
	Command Description
	setmode 		Set Measurement logging mode
	safetycheck     Checks voltage across source
	start           Ensures that load is ready to measure
	measure			Starts measurement
	end				Ends Measurement



Security
Regulation
Mechanical
Manufacturing
